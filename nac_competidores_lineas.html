<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>N-Acetilcisteína · Competidores 2022–2025</title>
<link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;700;800&family=DM+Mono:wght@400;500&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.min.js"></script>
<style>
  :root {
    --bg: #0d0f14;
    --surface: #13161e;
    --surface2: #1a1e2a;
    --border: #252a38;
    --text: #e8eaf0;
    --muted: #6b7280;

    /* brand palette */
    --sie:   #3b82f6;
    --sie2:  #60a5fa;
    --cso:   #f59e0b;
    --bet:   #a78bfa;
    --g3a:   #f87171;
    --tl:    #34d399;
    --beb:   #fb923c;
    --isa:   #94a3b8;
    --ele:   #e879f9;
    --other: #475569;
  }
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body {
    background: var(--bg);
    color: var(--text);
    font-family: 'DM Mono', monospace;
    min-height: 100vh;
    padding: 40px 24px 60px;
  }

  .header {
    max-width: 980px;
    margin: 0 auto 36px;
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    border-bottom: 1px solid var(--border);
    padding-bottom: 22px;
    animation: fadeUp 0.5s ease both;
  }
  .label-tag {
    font-size: 10px; letter-spacing: 0.2em; text-transform: uppercase;
    color: var(--muted); border: 1px solid var(--border);
    padding: 3px 10px; border-radius: 2px; margin-bottom: 10px;
    display: inline-block;
  }
  h1 {
    font-family: 'Syne', sans-serif;
    font-size: clamp(20px, 3.5vw, 32px);
    font-weight: 800; line-height: 1.1;
  }
  h1 span { color: var(--sie); }
  .subtitle { font-size: 11px; color: var(--muted); margin-top: 5px; letter-spacing: 0.04em; }
  .badge-sie {
    background: #1d4ed8; color: white;
    font-family: 'Syne', sans-serif; font-weight: 700; font-size: 12px;
    padding: 4px 14px; border-radius: 4px; align-self: center;
  }

  .main { max-width: 980px; margin: 0 auto; display: grid; gap: 20px; }

  .card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 26px 28px 22px;
    animation: fadeUp 0.55s ease both;
  }
  .card:nth-child(1){ animation-delay:.05s }
  .card:nth-child(2){ animation-delay:.15s }
  .card:nth-child(3){ animation-delay:.25s }

  .card-header {
    display: flex; justify-content: space-between;
    align-items: flex-start; margin-bottom: 18px; gap: 12px;
    flex-wrap: wrap;
  }
  .card-title {
    font-family: 'Syne', sans-serif; font-size: 13px;
    font-weight: 700; text-transform: uppercase; letter-spacing: 0.08em;
  }
  .card-sub { font-size: 10px; color: var(--muted); margin-top: 3px; }

  .legend-wrap {
    display: flex; flex-wrap: wrap; gap: 8px 16px;
    font-size: 10px; color: var(--muted); letter-spacing: 0.04em;
  }
  .leg { display: flex; align-items: center; gap: 5px; cursor: pointer; }
  .leg-dot {
    width: 26px; height: 3px; border-radius: 2px; flex-shrink: 0;
  }

  .chart-wrap { position: relative; height: 340px; }

  /* annotation badge */
  .annot {
    display: inline-block;
    background: var(--surface2);
    border: 1px solid var(--border);
    border-left: 3px solid;
    border-radius: 4px;
    padding: 8px 14px;
    font-size: 11px;
    color: var(--muted);
    line-height: 1.6;
  }
  .annot strong { color: var(--text); }
  .annot-grid { display: flex; gap: 12px; flex-wrap: wrap; margin-top: 4px; }

  .source {
    max-width: 980px; margin: 16px auto 0;
    font-size: 10px; color: var(--muted);
    letter-spacing: 0.04em; text-align: right;
  }

  @keyframes fadeUp {
    from { opacity:0; transform:translateY(14px); }
    to   { opacity:1; transform:translateY(0); }
  }
</style>
</head>
<body>

<div class="header">
  <div>
    <div class="label-tag">Market Intelligence · IQVIA</div>
    <h1>NAC · <span>Acemuk</span> vs Competidores</h1>
    <div class="subtitle">N-Acetilcisteína · Unidades MAT 2022–2025 · Argentina</div>
  </div>
  <div class="badge-sie">SIEGFRIED</div>
</div>

<div class="main">

  <!-- CHART 1: Bajo Receta -->
  <div class="card">
    <div class="card-header">
      <div>
        <div class="card-title">Bajo Receta (ETICO)</div>
        <div class="card-sub">Unidades anuales por producto</div>
      </div>
      <div class="legend-wrap" id="leg-rx"></div>
    </div>
    <div class="chart-wrap"><canvas id="chartRx"></canvas></div>
    <div class="annot-grid" style="margin-top:16px">
      <div class="annot" style="border-color: var(--sie)">
        <strong>ACEMUK (SIE)</strong><br>
        Líder absoluto. De 4.44M u. en 2022 a 3.59M en 2025.
      </div>
      <div class="annot" style="border-color: var(--g3a)">
        <strong>TUKOL AC 600 (G3A)</strong><br>
        Nuevo entrante 2025 con 124K uds. Competidor a seguir.
      </div>
      <div class="annot" style="border-color: var(--cso)">
        <strong>TOFLUX (CSO)</strong><br>
        2do competidor estable ~280–330K uds/año.
      </div>
    </div>
  </div>

  <!-- CHART 2: VL -->
  <div class="card">
    <div class="card-header">
      <div>
        <div class="card-title">Venta Libre (VL / POPULAR)</div>
        <div class="card-sub">Unidades anuales por producto</div>
      </div>
      <div class="legend-wrap" id="leg-vl"></div>
    </div>
    <div class="chart-wrap"><canvas id="chartVl"></canvas></div>
    <div class="annot-grid" style="margin-top:16px">
      <div class="annot" style="border-color: var(--sie2)">
        <strong>ACEMUK VL (SIE)</strong><br>
        Líder VL con 75.4% del segmento en 2025, aunque en baja desde 2022.
      </div>
      <div class="annot" style="border-color: var(--cso)">
        <strong>TOFLUX VL (CSO)</strong><br>
        Principal competidor VL, también en contracción.
      </div>
      <div class="annot" style="border-color: var(--g3a)">
        <strong>TUKOL AC 200 (G3A)</strong><br>
        Nuevo entrante VL en 2025 con 17.3K uds.
      </div>
    </div>
  </div>

</div>

<div class="source">Fuente: IQVIA · AR_PM_FV_Standard · Feb 2026 · Datos MAT (12 meses acumulados por año calendario)</div>

<script>
const years = ['2022', '2023', '2024', '2025'];

Chart.defaults.color = '#6b7280';
Chart.defaults.font.family = "'DM Mono', monospace";
Chart.defaults.font.size = 10;

// ── Bajo Receta datasets ──────────────────────────────────────
const rxDatasets = [
  { label: 'ACEMUK (SIE)',           data: [4441213, 3335210, 3307028, 3587882], color: '#3b82f6', width: 3 },
  { label: 'TOFLUX (CSO)',           data: [330286,  286216,  287450,  280753],  color: '#f59e0b', width: 2 },
  { label: 'TUKOL AC 600 (G3A)',     data: [0,       0,       0,       124029],  color: '#f87171', width: 2 },
  { label: 'DOSOMUK (BET)',          data: [45297,   49375,   60517,   39772],   color: '#a78bfa', width: 1.5 },
  { label: 'TOFLUX JARABE (CSO)',    data: [132578,  62894,   46164,   38257],   color: '#fcd34d', width: 1.5 },
  { label: 'QURA MUK (BEB)',         data: [48995,   26754,   27312,   19391],   color: '#fb923c', width: 1.5 },
  { label: 'BISTRONFOR (ISA)',       data: [25801,   28013,   13544,   21277],   color: '#94a3b8', width: 1.5 },
  { label: 'BRONCOLIUM (T.L)',       data: [31570,   21074,   14256,   21257],   color: '#34d399', width: 1.5 },
  { label: 'DENVERMUC (DEN)',        data: [15083,   17358,   18729,   16727],   color: '#67e8f9', width: 1.5 },
  { label: 'DEXALERGIN MUC (TEV)',   data: [0,       0,       5424,    16603],   color: '#e879f9', width: 1.5 },
];

// ── VL datasets ──────────────────────────────────────────────
const vlDatasets = [
  { label: 'ACEMUK VL (SIE)',    data: [385741, 274990, 242802, 136734], color: '#60a5fa', width: 3 },
  { label: 'TOFLUX VL (CSO)',    data: [50113,  37554,  30576,  12898],  color: '#f59e0b', width: 2 },
  { label: 'CEDRIMUC (ELE)',     data: [23830,  41791,  12365,  14562],  color: '#e879f9', width: 2 },
  { label: 'TUKOL AC 200 (G3A)',data: [0,      0,      0,      17254],  color: '#f87171', width: 2 },
];

function buildDatasets(list) {
  return list.map(d => ({
    label: d.label,
    data: d.data,
    borderColor: d.color,
    backgroundColor: d.color + '18',
    borderWidth: d.width,
    pointRadius: 5,
    pointHoverRadius: 7,
    pointBackgroundColor: d.color,
    tension: 0.35,
    fill: false,
  }));
}

function buildLegend(containerId, datasets) {
  const el = document.getElementById(containerId);
  datasets.forEach(d => {
    const div = document.createElement('div');
    div.className = 'leg';
    div.innerHTML = `<div class="leg-dot" style="background:${d.borderColor}"></div>${d.label}`;
    el.appendChild(div);
  });
}

const chartOptions = (yLabel) => ({
  responsive: true,
  maintainAspectRatio: false,
  interaction: { mode: 'index', intersect: false },
  plugins: {
    legend: { display: false },
    tooltip: {
      backgroundColor: '#1a1e2a',
      borderColor: '#252a38',
      borderWidth: 1,
      padding: 12,
      titleFont: { family: "'Syne', sans-serif", weight: '700', size: 13 },
      bodyFont: { family: "'DM Mono', monospace", size: 10 },
      callbacks: {
        label: ctx => {
          const v = ctx.parsed.y;
          if (v === 0) return null;
          return ` ${ctx.dataset.label}: ${v.toLocaleString('es-AR')} u.`;
        }
      }
    }
  },
  scales: {
    x: {
      grid: { color: '#1a1e2a' },
      ticks: { font: { family: "'Syne', sans-serif", weight: '700', size: 13 }, color: '#e8eaf0' }
    },
    y: {
      grid: { color: '#1a1e2a' },
      ticks: { callback: v => v >= 1e6 ? (v/1e6).toFixed(1)+'M' : v >= 1e3 ? (v/1e3).toFixed(0)+'K' : v },
      title: { display: true, text: yLabel, color: '#6b7280', font: { size: 10, family: "'DM Mono', monospace" } }
    }
  }
});

// Render RX chart
const rxDs = buildDatasets(rxDatasets);
buildLegend('leg-rx', rxDs);
new Chart(document.getElementById('chartRx'), {
  type: 'line',
  data: { labels: years, datasets: rxDs },
  options: chartOptions('Unidades')
});

// Render VL chart
const vlDs = buildDatasets(vlDatasets);
buildLegend('leg-vl', vlDs);
new Chart(document.getElementById('chartVl'), {
  type: 'line',
  data: { labels: years, datasets: vlDs },
  options: chartOptions('Unidades')
});
</script>
</body>
</html>
